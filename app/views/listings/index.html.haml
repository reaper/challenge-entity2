.w-full.bg-white.py-24.sm:py-32
  .mx-auto.max-w-7xl.px-6.lg:px-8
    .mx-auto.max-w-2xl.text-center
      %h2.text-3xl.font-bold.tracking-tight.text-gray-900.sm:text-4xl Listings
      %p.mt-2.text-lg.leading-8.text-gray-600 List of our current listings
    .mx-auto.mt-16.grid.max-w-2xl.auto-rows-fr.grid-cols-1.gap-8.sm:mt-20.lg:mx-0.lg:max-w-none.lg:grid-cols-3

      - @listings.each do |listing|
        .flex.flex-col
          .relative.isolate.flex.h-full.flex-col.justify-end.overflow-hidden.rounded-2xl.bg-gray-900.px-8.pb-8.pt-80.sm:pt-48.lg:pt-80
            = image_tag "listings/#{rand(1..6)}.jpg", class: "absolute inset-0 -z-10 h-full w-full object-cover"
            .absolute.inset-0.-z-10.bg-gradient-to-t.from-gray-900{:class => "via-gray-900/40"}
            .absolute.inset-0.-z-10.rounded-2xl.ring-1.ring-inset{:class => "ring-gray-900/10"}
            .flex.flex-wrap.items-center.gap-y-1.overflow-hidden.text-sm.leading-6.text-gray-300
              %time.mr-8= listing.created_at.to_fs(:short)
            %h3.mt-3.text-lg.font-semibold.leading-6.text-white
              = link_to listing do
                %span.absolute.inset-0
                = listing.title
            .mt-3.text-sm.leading-6.text-white
              = link_to listing do
                %span.absolute.inset-0
                = listing.address
            .mt-3.text-sm.leading-6.text-white
              = link_to listing do
                %span.absolute.inset-0
                = listing.num_rooms
                rooms

          %span.isolate.inline-flex.rounded-md.mt-3
            = button_to "Edit", edit_listing_path(listing), method: :get, class: "relative inline-flex items-center rounded-l-md bg-white px-3 py-2 text-sm font-semibold text-gray-900 ring-1 ring-inset ring-gray-300 hover:bg-gray-50 focus:z-10"
            = button_to "Destroy", listing, method: :delete, data: { confirm: 'Are you sure?' }, class: "relative -ml-px inline-flex items-center rounded-r-md bg-white px-3 py-2 text-sm font-semibold text-gray-900 ring-1 ring-inset ring-gray-300 hover:bg-gray-50 focus:z-10"

    .flex.flex-row.mt-16
      = button_to "New Listing", new_listing_path, method: :get, class: "px-3.5 py-2.5 rounded-md bg-indigo-600 text-sm font-semibold text-white shadow-sm hover:bg-indigo-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600"
